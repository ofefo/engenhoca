#N struct 1170-f float x;
#N struct 1179-f float x;
#N struct 1009-f float x;
#N canvas 962 54 476 1000 12;
#X obj 5 5 inlet;
#N canvas 2 54 1916 1000 pitch 0;
#X obj 12 8 inlet bang;
#X obj 126 56 list store, f 13;
#X obj 94 7 inlet bang;
#X obj 287 199 outlet;
#N canvas 1282 54 636 1000 mult 0;
#X obj 22 34 inlet bang;
#X obj 121 34 inlet list;
#X obj 22 131 list store;
#X obj 22 180 outlet list;
#X obj 121 83 t l b, f 12;
#X obj 206 106 random 12;
#X obj 121 131 list-map;
#X obj 188 155 % 12;
#X obj 22 155 random-list;
#X obj 188 131 *;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 8 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 9 1;
#X connect 6 0 2 1;
#X connect 6 1 9 0;
#X connect 7 0 6 1;
#X connect 8 0 3 0;
#X connect 9 0 7 0;
#X restore 230 138 pd mult;
#X obj 94 31 t b b;
#X obj 12 89 f;
#N canvas 1282 54 636 1000 asc 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 69 list store;
#X obj 10 193 outlet list;
#X obj 10 167 list-idx;
#X obj 89 69 list length;
#X obj 63 94 f 0;
#X obj 63 118 + 1;
#X obj 63 142 %;
#X obj 10 93 t l b;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 1 0 2 1;
#X connect 2 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 8 0 4 1;
#X connect 9 0 4 0;
#X connect 9 1 6 0;
#X restore 61 138 pd asc;
#N canvas 1282 54 636 1000 desc 0;
#X obj 19 19 inlet bang;
#X obj 104 19 inlet list;
#X obj 19 103 list store;
#X obj 19 227 outlet list;
#X obj 19 201 list-idx;
#X obj 104 176 list length;
#X obj 72 128 f 0;
#X obj 72 152 + 1;
#X obj 72 176 %;
#X obj 19 127 t l b;
#X obj 86 77 list-sort desc;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 1 0 10 0;
#X connect 2 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 8 0 4 1;
#X connect 9 0 4 0;
#X connect 9 1 6 0;
#X connect 10 0 2 1;
#X restore 117 138 pd desc;
#N canvas 1282 54 636 1000 tran 0;
#X obj 10 15 inlet bang;
#X obj 109 15 inlet list;
#X obj 10 112 list store;
#X obj 10 161 outlet list;
#X obj 109 64 t l b, f 12;
#X obj 194 87 random 12;
#X obj 109 112 list-map;
#X obj 176 112 +;
#X obj 176 136 % 12;
#X obj 10 136 random-list;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 9 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 7 1;
#X connect 6 0 2 1;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 9 0 3 0;
#X restore 174 138 pd tran;
#X obj 5 114 sel 0 1 2 3 4 5 6 7 8 9, f 81;
#N canvas 1282 54 636 1000 comp 0;
#X obj 10 15 inlet bang;
#X obj 135 15 inlet list;
#X obj 10 41 list store;
#X obj 10 67 random-list;
#X obj 10 93 outlet pc;
#X obj 135 145 list-sieve;
#X msg 135 97 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 135 121 list-drip;
#X obj 269 122 list length;
#X obj 269 146 expr abs(($f1 - 12));
#X obj 135 71 t b l l, f 19;
#X obj 202 171 list-lastx;
#X connect 0 0 2 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 1 11 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 9 0;
#X connect 9 0 11 1;
#X connect 10 0 6 0;
#X connect 10 1 5 1;
#X connect 10 2 8 0;
#X connect 11 0 2 1;
#X restore 287 138 pd comp;
#X obj 5 60 random 10;
#N canvas 1282 54 636 1000 casc 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 219 list store;
#X obj 10 343 outlet list;
#X obj 10 317 list-idx;
#X obj 94 292 list length;
#X obj 63 244 f 0;
#X obj 63 268 + 1;
#X obj 63 292 %;
#X obj 10 243 t l b;
#X obj 89 114 list-sieve;
#X msg 89 66 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 89 90 list-drip;
#X obj 223 91 list length;
#X obj 223 115 expr abs(($f1 - 12));
#X obj 89 40 t b l l, f 19;
#X obj 156 140 list-lastx;
#X obj 156 163 t l l;
#X obj 77 197 list-sort asc;
#X connect 0 0 2 0;
#X connect 1 0 15 0;
#X connect 2 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 8 0 4 1;
#X connect 9 0 4 0;
#X connect 9 1 6 0;
#X connect 10 1 16 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 14 0 16 1;
#X connect 15 0 11 0;
#X connect 15 1 10 1;
#X connect 15 2 13 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 5 0;
#X connect 18 0 2 1;
#X restore 343 138 pd casc;
#N canvas 1282 54 636 1000 cdes 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 246 list store;
#X obj 10 370 outlet list;
#X obj 10 344 list-idx;
#X obj 94 319 list length;
#X obj 63 271 f 0;
#X obj 63 295 + 1;
#X obj 63 319 %;
#X obj 10 270 t l b;
#X obj 89 141 list-sieve;
#X msg 89 93 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 89 117 list-drip;
#X obj 223 118 list length;
#X obj 223 142 expr abs(($f1 - 12));
#X obj 89 67 t b l l, f 19;
#X obj 156 167 list-lastx;
#X obj 156 190 t l l;
#X obj 77 224 list-sort desc;
#X connect 0 0 2 0;
#X connect 1 0 15 0;
#X connect 2 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 8 0 4 1;
#X connect 9 0 4 0;
#X connect 9 1 6 0;
#X connect 10 1 16 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 14 0 16 1;
#X connect 15 0 11 0;
#X connect 15 1 10 1;
#X connect 15 2 13 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 5 0;
#X connect 18 0 2 1;
#X restore 400 138 pd cdes;
#N canvas 1282 54 636 1000 ctra 0;
#X obj 10 6 inlet bang;
#X obj 89 6 inlet list;
#X obj 89 135 list-sieve;
#X msg 89 87 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 89 111 list-drip;
#X obj 223 112 list length;
#X obj 223 136 expr abs(($f1 - 12));
#X obj 89 61 t b l l, f 19;
#X obj 156 161 list-lastx;
#X obj 10 250 list store;
#X obj 10 299 outlet list;
#X obj 162 201 random 12;
#X obj 77 226 list-map;
#X obj 144 226 +;
#X obj 144 250 % 12;
#X obj 10 274 random-list;
#X obj 77 192 t l b;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 1 8 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 8 1;
#X connect 7 0 3 0;
#X connect 7 1 2 1;
#X connect 7 2 5 0;
#X connect 8 0 16 0;
#X connect 9 0 15 0;
#X connect 11 0 13 1;
#X connect 12 0 9 1;
#X connect 12 1 13 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 10 0;
#X connect 16 0 12 0;
#X connect 16 1 11 0;
#X restore 456 138 pd ctra;
#N canvas 1282 54 636 1000 cmul 0;
#X obj 22 18 inlet bang;
#X obj 101 18 inlet list;
#X obj 101 147 list-sieve;
#X msg 101 99 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 101 123 list-drip;
#X obj 235 124 list length;
#X obj 235 148 expr abs(($f1 - 12));
#X obj 101 73 t b l l, f 19;
#X obj 168 173 list-lastx;
#X obj 22 262 list store;
#X obj 22 311 outlet list;
#X obj 174 213 random 12;
#X obj 89 238 list-map;
#X obj 156 262 % 12;
#X obj 22 286 random-list;
#X obj 89 204 t l b;
#X obj 156 238 *;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 1 8 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 8 1;
#X connect 7 0 3 0;
#X connect 7 1 2 1;
#X connect 7 2 5 0;
#X connect 8 0 15 0;
#X connect 9 0 14 0;
#X connect 11 0 16 1;
#X connect 12 0 9 1;
#X connect 12 1 16 0;
#X connect 13 0 12 1;
#X connect 14 0 10 0;
#X connect 15 0 12 0;
#X connect 15 1 11 0;
#X connect 16 0 13 0;
#X restore 513 138 pd cmul;
#X obj 214 7 inlet pitch_phrase;
#N canvas 962 54 956 1000 rand 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 43 list store;
#X obj 10 93 outlet pc;
#X obj 10 68 pick-random;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 4 0 3 0;
#X restore 5 138 pd rand;
#X text 62 222 This subpatch defines which pitch will be played. The
last pitch class set played is transformed by one randomly chosen function.
;
#X connect 0 0 6 0;
#X connect 1 0 18 1;
#X connect 1 0 9 1;
#X connect 1 0 7 1;
#X connect 1 0 4 1;
#X connect 1 0 8 1;
#X connect 1 0 11 1;
#X connect 1 0 14 1;
#X connect 1 0 13 1;
#X connect 1 0 15 1;
#X connect 1 0 16 1;
#X connect 2 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 12 0;
#X connect 5 1 1 0;
#X connect 6 0 10 0;
#X connect 7 0 3 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 10 0 18 0;
#X connect 10 1 7 0;
#X connect 10 2 8 0;
#X connect 10 3 9 0;
#X connect 10 4 4 0;
#X connect 10 5 11 0;
#X connect 10 6 13 0;
#X connect 10 7 14 0;
#X connect 10 8 15 0;
#X connect 10 9 16 0;
#X connect 11 0 3 0;
#X connect 12 0 6 1;
#X connect 12 0 10 0;
#X connect 13 0 3 0;
#X connect 14 0 3 0;
#X connect 15 0 3 0;
#X connect 16 0 3 0;
#X connect 17 0 1 1;
#X connect 18 0 3 0;
#X restore 144 197 pd pitch;
#X f 9;
#X obj 48 108 metroplus;
#X obj 224 197 list-dripslow;
#X obj 48 314 outlet;
#X obj 48 289 spigot;
#N canvas 1282 54 636 1000 timbre 1;
#X obj 12 14 inlet bang;
#X obj 22 39 f 0;
#X obj 22 64 + 1;
#X obj 22 89 %;
#X obj 22 114 sel 0;
#X obj 54 189 outlet;
#X obj 88 14 inlet figures;
#X obj 88 63 list-mean;
#X obj 88 38 t l l;
#X obj 88 112 f;
#X obj 22 139 t b b;
#X obj 54 165 random 11;
#X obj 88 87 expr if($f1 < 400 \, 30 \, rint(1000 / ($f1/12.)));
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 6 0 8 0;
#X connect 7 0 12 0;
#X connect 8 0 7 0;
#X connect 9 0 3 1;
#X connect 10 0 9 0;
#X connect 10 1 11 0;
#X connect 11 0 5 0;
#X connect 12 0 9 1;
#X restore 66 197 pd timbre;
#N canvas 962 54 956 1000 rhythm 0;
#N canvas 962 54 476 1000 same 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 49 list store;
#X obj 10 73 outlet list;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X restore 8 175 pd same;
#X obj 8 83 t b l, f 55;
#N canvas 962 54 956 1000 shuf 0;
#X obj 10 15 inlet bang;
#X obj 158 15 inlet list;
#X obj 10 95 list store;
#X obj 10 119 outlet list;
#X obj 77 69 list-shuffle;
#X obj 10 39 t b b;
#X connect 0 0 5 0;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 4 0 2 1;
#X connect 5 0 2 0;
#X connect 5 1 4 0;
#X restore 179 175 pd shuf;
#N canvas 1282 54 636 1000 add 0;
#X obj 10 15 inlet bang;
#X obj 144 15 inlet list;
#X obj 10 199 list store;
#X obj 10 223 outlet list;
#X obj 77 173 list-insert;
#X obj 77 122 list-minmax;
#X obj 114 149 expr random(0 \, $f2);
#X obj 244 124 list length;
#X obj 77 98 t l b l l;
#X obj 10 40 t b b;
#X obj 77 74 list store;
#X connect 0 0 9 0;
#X connect 1 0 10 1;
#X connect 2 0 3 0;
#X connect 4 0 2 1;
#X connect 5 0 4 0;
#X connect 6 0 4 1;
#X connect 7 0 6 1;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 8 2 4 2;
#X connect 8 3 7 0;
#X connect 9 0 2 0;
#X connect 9 1 10 0;
#X connect 10 0 8 0;
#X restore 294 175 pd add;
#N canvas 962 54 956 1000 ost 0;
#X obj 10 15 inlet bang;
#X obj 174 15 inlet list;
#X obj 10 369 list store;
#X obj 10 393 outlet list;
#X obj 184 224 list-mean;
#X obj 21 185 list-minmax;
#X obj 107 254 f;
#X obj 137 254 f;
#X obj 166 254 f;
#X obj 107 161 random 3;
#X obj 107 185 sel 0 1 2;
#X obj 137 320 list-value;
#X obj 107 128 t b l l;
#X obj 204 157 list length;
#X obj 137 292 t b f;
#X obj 10 40 t b b;
#X obj 107 101 list store;
#X connect 0 0 15 0;
#X connect 1 0 16 1;
#X connect 2 0 3 0;
#X connect 4 0 8 1;
#X connect 5 0 6 1;
#X connect 5 1 7 1;
#X connect 6 0 14 0;
#X connect 7 0 14 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 10 1 7 0;
#X connect 10 2 8 0;
#X connect 11 0 2 1;
#X connect 12 0 9 0;
#X connect 12 1 4 0;
#X connect 12 1 5 0;
#X connect 12 2 13 0;
#X connect 13 0 11 2;
#X connect 14 0 11 0;
#X connect 14 1 11 1;
#X connect 15 0 2 0;
#X connect 15 1 16 0;
#X connect 16 0 12 0;
#X restore 351 175 pd ost;
#N canvas 962 54 956 1000 rand 0;
#X obj 10 15 inlet bang;
#X obj 144 15 inlet list;
#X obj 10 239 list store;
#X obj 10 263 outlet list;
#X obj 77 189 list-random;
#X obj 114 156 list-minmax;
#X obj 151 130 list length;
#X obj 77 215 list-map;
#X obj 77 100 t b l l, f 11;
#X obj 10 40 t b b;
#X obj 77 74 list store;
#X obj 148 215 expr if($f1 < $f2 \, $f1+$f2 \, $f1);
#X connect 0 0 9 0;
#X connect 1 0 10 1;
#X connect 2 0 3 0;
#X connect 4 0 7 0;
#X connect 5 0 11 1;
#X connect 5 1 4 1;
#X connect 6 0 4 2;
#X connect 7 0 2 1;
#X connect 7 1 11 0;
#X connect 8 0 4 0;
#X connect 8 1 5 0;
#X connect 8 2 6 0;
#X connect 9 0 2 0;
#X connect 9 1 10 0;
#X connect 10 0 8 0;
#X connect 11 0 7 1;
#X restore 521 175 pd rand;
#N canvas 962 54 956 1000 mult 0;
#X obj 10 15 inlet bang;
#X obj 144 15 inlet list;
#X obj 10 199 list store;
#X obj 10 223 outlet list;
#X obj 77 109 t l b;
#X obj 141 175 expr $f1*(pow(2 \, $f2 / 12));
#X obj 77 175 list-map;
#X obj 141 199 expr rint($f1);
#X obj 109 133 expr random(1 \, 25) - 12;
#X obj 10 40 t b b;
#X obj 77 76 list store;
#X connect 0 0 9 0;
#X connect 1 0 10 1;
#X connect 2 0 3 0;
#X connect 4 0 6 0;
#X connect 4 1 8 0;
#X connect 5 0 7 0;
#X connect 6 0 2 1;
#X connect 6 1 5 0;
#X connect 7 0 6 1;
#X connect 8 0 5 1;
#X connect 9 0 2 0;
#X connect 9 1 10 0;
#X connect 10 0 4 0;
#X restore 236 175 pd mult;
#N canvas 1282 54 636 1000 resize 0;
#X obj 105 49 list-mean;
#X obj 105 14 inlet figures;
#X obj 18 211 list-extend;
#X obj 92 111 list length;
#X obj 92 185 list store;
#X obj 92 159 sel 1;
#X obj 159 136 list-drip;
#X obj 287 191 list-map;
#X obj 355 191 + 10;
#X obj 105 74 expr if($f1 < 400 \, 30 \, rint(1000 / ($f1/12.)));
#X obj 159 161 list-lastx 30;
#X obj 287 167 list-random 1000 30;
#X obj 92 136 >= 60;
#X obj 18 235 list-drip;
#X obj 18 260 list-lastx 12;
#X obj 18 287 list store;
#X obj 18 312 outlet list;
#X obj 287 141 loadbang;
#X obj 18 14 inlet fig;
#X obj 18 39 list-mean;
#X text 161 270 This subpatch resizes the length of the phrase to be
played according to the last mean value of the durations.;
#X connect 0 0 9 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 2 0 13 0;
#X connect 3 0 12 0;
#X connect 4 0 2 1;
#X connect 5 0 4 0;
#X connect 6 0 10 0;
#X connect 7 0 2 1;
#X connect 7 0 6 0;
#X connect 7 1 8 0;
#X connect 8 0 7 1;
#X connect 9 0 14 1;
#X connect 10 0 4 1;
#X connect 11 0 7 0;
#X connect 12 0 5 0;
#X connect 13 0 14 0;
#X connect 13 1 15 0;
#X connect 14 0 15 1;
#X connect 15 0 16 0;
#X connect 17 0 11 0;
#X connect 18 0 19 0;
#X connect 19 0 2 0;
#X restore 8 59 pd resize;
#X f 11;
#N canvas 962 54 956 1000 rot 0;
#X obj 10 15 inlet bang;
#X obj 144 15 inlet list;
#X obj 10 229 list store;
#X obj 10 253 outlet list;
#X obj 77 204 list-rot;
#X obj 77 102 t l l, f 8;
#X obj 130 127 list length;
#X obj 10 40 t b b;
#X obj 77 74 list store;
#X obj 130 151 t b f;
#X obj 130 177 expr random(($f2*-1) \, ($f2-1));
#X connect 0 0 7 0;
#X connect 1 0 8 1;
#X connect 2 0 3 0;
#X connect 4 0 2 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 9 0;
#X connect 7 0 2 0;
#X connect 7 1 8 0;
#X connect 8 0 5 0;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 4 1;
#X restore 408 175 pd rot;
#X obj 8 151 sel 0 1 2 3 4 5 6 7 8 9, f 82;
#X obj 8 127 random 10;
#N canvas 962 54 956 1000 rev 0;
#X obj 10 15 inlet bang;
#X obj 144 15 inlet list;
#X obj 10 126 list store;
#X obj 10 150 outlet list;
#X obj 77 101 list-rev;
#X obj 10 40 t b b;
#X obj 77 76 list store;
#X connect 0 0 5 0;
#X connect 1 0 6 1;
#X connect 2 0 3 0;
#X connect 4 0 2 1;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 4 0;
#X restore 465 175 pd rev;
#N canvas 962 54 956 1000 acc 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 129 list store;
#X obj 10 153 outlet list;
#X obj 10 40 t b b;
#X obj 77 77 list store;
#X obj 77 104 list-sort desc;
#X connect 0 0 4 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 6 0 2 1;
#X restore 65 175 pd acc;
#N canvas 962 54 956 1000 rall 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 129 list store;
#X obj 10 153 outlet list;
#X obj 10 40 t b b;
#X obj 77 76 list store;
#X obj 77 100 list-sort asc;
#X connect 0 0 4 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 6 0 2 1;
#X restore 122 175 pd rall;
#X obj 169 347 list store;
#X obj 169 323 metro;
#X msg 169 300 1;
#X obj 169 277 loadbang;
#X obj 236 239 list;
#X obj 169 395 outlet list;
#X obj 169 371 t l l;
#X obj 8 11 inlet fig;
#X obj 257 395 s \$0-rhythm_dur;
#X obj 201 300 list-accum;
#X obj 17 106 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 168 11 inlet on/off;
#X msg 137 300 0;
#X obj 96 236 r \$0-selector;
#X obj 96 261 sel 0 1;
#X obj 236 263 list-apply + 100;
#X obj 8 35 t l l;
#X connect 0 0 18 0;
#X connect 1 0 10 0;
#X connect 1 1 0 1;
#X connect 1 1 12 1;
#X connect 1 1 13 1;
#X connect 1 1 6 1;
#X connect 1 1 3 1;
#X connect 1 1 2 1;
#X connect 1 1 4 1;
#X connect 1 1 5 1;
#X connect 1 1 8 1;
#X connect 1 1 11 1;
#X connect 2 0 18 0;
#X connect 3 0 18 0;
#X connect 4 0 18 0;
#X connect 5 0 18 0;
#X connect 6 0 18 0;
#X connect 7 0 1 0;
#X connect 8 0 18 0;
#X connect 9 0 0 0;
#X connect 9 1 12 0;
#X connect 9 2 13 0;
#X connect 9 3 2 0;
#X connect 9 4 6 0;
#X connect 9 5 3 0;
#X connect 9 6 4 0;
#X connect 9 7 8 0;
#X connect 9 8 11 0;
#X connect 9 9 5 0;
#X connect 10 0 9 0;
#X connect 11 0 18 0;
#X connect 12 0 18 0;
#X connect 13 0 18 0;
#X connect 14 0 20 0;
#X connect 15 0 14 0;
#X connect 15 0 24 0;
#X connect 16 0 15 0;
#X connect 17 0 16 0;
#X connect 18 0 29 0;
#X connect 20 0 19 0;
#X connect 20 1 23 0;
#X connect 21 0 30 0;
#X connect 23 0 15 1;
#X connect 23 0 22 0;
#X connect 24 0 10 0;
#X connect 25 0 15 0;
#X connect 26 0 15 0;
#X connect 27 0 28 0;
#X connect 28 0 26 0;
#X connect 28 1 16 0;
#X connect 29 0 14 1;
#X connect 30 0 7 0;
#X connect 30 1 7 1;
#X restore 259 64 pd rhythm;
#X f 13;
#X obj 5 210 > 0;
#X obj 233 5 inlet figures;
#N canvas 962 54 956 1000 rms+flat 0;
#X obj 160 17 inlet flat;
#X obj 15 208 list;
#N canvas 1282 54 636 1000 make_list 0;
#X obj 14 11 inlet list;
#X obj 14 60 outlet;
#X text 160 26 This subpatch adds the word "flat" before the list of
values.;
#X obj 14 36 list prepend flat;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X restore 160 40 pd make_list;
#X obj 15 232 outlet;
#X obj 15 17 inlet bang;
#X text 159 114 This subpatch concatenates the spectral flatness curve
with a rms value.;
#X obj 91 17 inlet rms;
#X obj 15 124 list store;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 4 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 1 0;
#X restore 346 227 pd rms+flat;
#X f 12;
#N canvas 962 54 956 1000 make 0;
#X obj 453 3 inlet rms+flat;
#X obj 176 57 list append;
#X obj 176 32 list append;
#X obj 259 3 inlet duration;
#X obj 8 3 inlet bang;
#X obj 86 3 inlet timbre;
#X obj 176 3 inlet pitch;
#X obj 8 105 list append;
#X obj 8 30 list store;
#X obj 8 128 outlet list;
#X obj 363 3 inlet legato;
#X obj 363 28 list append;
#X connect 0 0 11 1;
#X connect 1 0 7 1;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 4 0 8 0;
#X connect 5 0 8 1;
#X connect 6 0 2 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 1 1;
#X restore 48 260 pd make list;
#X f 43;
#X obj 330 5 inlet legato;
#X obj 489 5 inlet flat_curve;
#X obj 259 88 t b l l, f 8;
#N canvas 2 54 956 1000 dynamics 0;
#X obj 11 13 inlet bang;
#X obj 87 13 inlet rms list;
#N canvas 962 54 956 1000 resize 0;
#X obj 105 39 list-mean;
#X obj 105 14 inlet figures;
#X obj 18 201 list-extend;
#X obj 92 101 list length;
#X obj 92 175 list store;
#X obj 92 149 sel 1;
#X obj 159 126 list-drip;
#X obj 287 181 list-map;
#X obj 355 181 + 10;
#X obj 159 151 list-lastx 30;
#X obj 287 157 list-random 1000 30;
#X obj 92 126 >= 60;
#X obj 18 225 list-drip;
#X obj 18 250 list-lastx 12;
#X obj 18 277 list store;
#X obj 18 302 outlet list;
#X obj 18 14 inlet rms;
#X obj 287 131 loadbang;
#X text 107 292 This subpatch resizes the length the phrase to be played
according to the last mean value of the durations.;
#X obj 424 34 list length;
#X obj 105 64 expr if($f1 < 400 \, 30 \, rint(1000 / ($f1/$f2)));
#X connect 0 0 20 0;
#X connect 1 0 0 0;
#X connect 1 0 19 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 2 0 12 0;
#X connect 3 0 11 0;
#X connect 4 0 2 1;
#X connect 5 0 4 0;
#X connect 6 0 9 0;
#X connect 7 0 2 1;
#X connect 7 0 6 0;
#X connect 7 1 8 0;
#X connect 8 0 7 1;
#X connect 9 0 4 1;
#X connect 10 0 7 0;
#X connect 11 0 5 0;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 15 0;
#X connect 16 0 2 0;
#X connect 17 0 10 0;
#X connect 19 0 20 1;
#X connect 20 0 13 1;
#X restore 87 41 pd resize;
#X f 11;
#X obj 191 13 inlet figures;
#N canvas 962 54 956 1000 same 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 49 list store;
#X obj 10 73 outlet list;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X restore 64 213 pd same;
#N canvas 962 54 956 1000 ost 0;
#X obj 10 15 inlet bang;
#X obj 174 15 inlet list;
#X obj 10 369 list store;
#X obj 10 393 outlet list;
#X obj 184 224 list-mean;
#X obj 125 157 list-minmax;
#X obj 107 254 f;
#X obj 137 254 f;
#X obj 166 254 f;
#X obj 107 121 random 3;
#X obj 107 185 sel 0 1 2;
#X obj 107 320 list-value;
#X obj 107 98 t b l l;
#X obj 174 293 list length;
#X obj 107 292 t b f;
#X obj 10 40 t b b;
#X obj 107 71 list store;
#X connect 0 0 15 0;
#X connect 1 0 16 1;
#X connect 2 0 3 0;
#X connect 4 0 8 1;
#X connect 5 0 6 1;
#X connect 5 1 7 1;
#X connect 6 0 14 0;
#X connect 7 0 14 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 10 1 7 0;
#X connect 10 2 8 0;
#X connect 11 0 2 1;
#X connect 12 0 9 0;
#X connect 12 1 4 0;
#X connect 12 1 5 0;
#X connect 12 2 13 0;
#X connect 13 0 11 2;
#X connect 14 0 11 0;
#X connect 14 1 11 1;
#X connect 15 0 2 0;
#X connect 15 1 16 0;
#X connect 16 0 12 0;
#X restore 235 213 pd ost;
#N canvas 962 54 956 1000 cres 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 129 list store;
#X obj 10 153 outlet list;
#X obj 10 40 t b b;
#X obj 77 77 list store;
#X obj 77 104 list-sort asc;
#X connect 0 0 4 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 6 0 2 1;
#X restore 121 213 pd cres;
#N canvas 962 54 956 1000 dim 0;
#X obj 10 15 inlet bang;
#X obj 89 15 inlet list;
#X obj 10 129 list store;
#X obj 10 153 outlet list;
#X obj 10 40 t b b;
#X obj 77 76 list store;
#X obj 77 100 list-sort desc;
#X connect 0 0 4 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 6 0 2 1;
#X restore 178 213 pd dim;
#X obj 64 189 sel 0 1 2 3, f 33;
#X obj 87 90 list length;
#X obj 11 62 f 0;
#X obj 11 86 + 1;
#X obj 11 110 %;
#X obj 64 139 sel 0;
#X obj 64 165 random 4;
#X obj 87 65 t l l;
#X obj 11 269 list-idx;
#X obj 11 325 outlet rms;
#X obj 11 219 t b f;
#X obj 11 243 list store;
#X obj 11 294 min 99;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 15 0;
#X connect 3 0 2 1;
#X connect 4 0 19 1;
#X connect 5 0 19 1;
#X connect 6 0 19 1;
#X connect 7 0 19 1;
#X connect 8 0 4 0;
#X connect 8 1 6 0;
#X connect 8 2 7 0;
#X connect 8 3 5 0;
#X connect 9 0 12 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 10 1;
#X connect 12 0 13 0;
#X connect 12 0 18 0;
#X connect 13 0 14 0;
#X connect 14 0 8 0;
#X connect 15 0 9 0;
#X connect 15 1 5 1;
#X connect 15 1 7 1;
#X connect 15 1 6 1;
#X connect 15 1 4 1;
#X connect 16 0 20 0;
#X connect 18 0 19 0;
#X connect 18 1 16 1;
#X connect 19 0 16 0;
#X connect 20 0 17 0;
#X restore 380 196 pd dynamics;
#X f 12;
#X obj 48 132 t b b b b b b, f 28;
#X obj 46 5 inlet pitch;
#X obj 233 35 t l l l, f 8;
#X obj 420 5 inlet rms;
#X obj 520 289 r \$0-rhythm_dur;
#X obj 520 314 outlet dur;
#N canvas 642 54 636 1000 octave 0;
#X obj 20 29 inlet pc;
#X obj 20 161 outlet;
#X obj 164 29 inlet oct_prob;
#X obj 20 130 min 127;
#X obj 20 106 expr $f1+(($f2+1)*12);
#X obj 164 53 t b l, f 12;
#X obj 164 78 list-wrandom;
#X connect 0 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 6 0 4 1;
#X restore 144 225 pd octave;
#X obj 129 5 inlet oct_prob;
#X obj 607 5 inlet on/off;
#X obj 5 234 s \$0-selector;
#N canvas 962 54 956 1000 on/off 0;
#X msg 4 63 start;
#X msg 50 63 stop;
#X obj 4 6 r \$0-selector;
#X obj 4 30 sel 1 0;
#X obj 4 88 outlet;
#X obj 108 6 inlet on/off;
#X obj 108 30 sel 1 0;
#X connect 0 0 4 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 0 0;
#X connect 6 1 1 0;
#X restore 48 84 pd on/off;
#X text 97 287 This abstraction concatenates values for timbre \, pitch
\, duration \, legato \, amplitude (rms) and flatness curve into a
single list.;
#X connect 0 0 8 0;
#X connect 1 0 22 0;
#X connect 2 0 16 0;
#X connect 3 0 11 3;
#X connect 5 0 4 0;
#X connect 6 0 11 1;
#X connect 7 0 14 0;
#X connect 8 0 5 1;
#X connect 8 0 25 0;
#X connect 9 0 18 0;
#X connect 10 0 11 5;
#X connect 11 0 5 0;
#X connect 12 0 11 4;
#X connect 13 0 10 2;
#X connect 14 0 1 1;
#X connect 14 1 2 1;
#X connect 14 2 3 1;
#X connect 15 0 10 1;
#X connect 16 0 11 0;
#X connect 16 1 6 0;
#X connect 16 2 1 0;
#X connect 16 3 3 0;
#X connect 16 4 10 0;
#X connect 16 5 15 0;
#X connect 17 0 1 2;
#X connect 18 0 6 1;
#X connect 18 1 7 0;
#X connect 18 2 15 2;
#X connect 19 0 15 1;
#X connect 20 0 21 0;
#X connect 22 0 11 2;
#X connect 23 0 22 1;
#X connect 24 0 7 1;
#X connect 24 0 26 0;
#X connect 26 0 2 0;
