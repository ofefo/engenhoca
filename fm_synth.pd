#N canvas 642 54 636 1000 12;
#X obj 8 325 clip~ -0.99 0.99;
#X obj 8 277 hip~ 3;
#X obj 8 302 *~, f 16;
#X obj 197 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 8 4 inlet list;
#X obj 117 278 expr $f1 * $f2, f 27;
#X obj 506 4 inlet set_offset;
#X obj 506 76 dbtorms;
#X obj 8 349 hip~ 5;
#X obj 8 373 outlet~;
#N canvas 1282 54 636 1000 flat_env 1;
#X obj 11 13 inlet flatness_curve;
#X obj 11 88 t l l, f 16;
#N canvas 1442 54 476 1000 resize_interp 0;
#X obj 89 283 f;
#X obj 89 255 until;
#X obj 89 207 t b b;
#X obj 129 283 - 1;
#X obj 89 308 t f f;
#X msg 135 64 resize \$1;
#X obj 135 89 array define \$0-flat_env_in;
#X obj 8 10 inlet;
#X obj 89 12 inlet size;
#X obj 11 94 list store;
#X msg 89 231 99;
#X msg 134 255 98;
#X obj 201 190 loadbang;
#X msg 201 214 const 0;
#X obj 89 359 tabread4 \$0-flat_env_in;
#X obj 89 385 tabwrite \$0-flat_env_out;
#X obj 89 334 *;
#X obj 149 334 / 99;
#X obj 89 37 t b b f f;
#X obj 11 126 array set \$0-flat_env_in;
#X obj 201 239 array define \$0-flat_env_out 99;
#X text 281 36 Resizes an array containing the flatness curve to match
99 values and interpolate them with tabread4.;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 2 1 11 0;
#X connect 3 0 0 1;
#X connect 4 0 16 0;
#X connect 4 1 15 1;
#X connect 5 0 6 0;
#X connect 7 0 9 1;
#X connect 8 0 18 0;
#X connect 9 0 19 0;
#X connect 10 0 1 0;
#X connect 11 0 0 1;
#X connect 12 0 13 0;
#X connect 13 0 20 0;
#X connect 14 0 15 0;
#X connect 16 0 14 0;
#X connect 17 0 16 1;
#X connect 18 0 2 0;
#X connect 18 1 9 0;
#X connect 18 2 5 0;
#X connect 18 3 17 0;
#X restore 11 138 pd resize_interp;
#X obj 120 112 list length;
#X obj 11 38 list trim;
#X obj 11 63 route flat;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X restore 48 53 pd flat_env;
#N canvas 2 54 1916 1000 add_noise 0;
#X obj 208 35 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 208 106 vline~;
#X obj 208 176 snapshot~;
#X obj 218 153 bang~;
#X obj 35 343 outlet~;
#X obj 35 295 +~;
#X obj 35 319 /~ 2;
#X obj 208 11 inlet bang;
#X obj 35 11 inlet~ signal;
#X obj 284 11 inlet ioi;
#X obj 53 187 noise~;
#X obj 53 211 *~;
#X obj 208 200 t f f;
#X obj 208 55 f;
#X obj 208 131 tabread4~ \$0-flat_env_out;
#X msg 208 82 0 0 \, 99 \$1;
#X obj 53 266 *~ 0.5;
#X obj 240 224 + 1.5;
#X obj 132 11 inlet midi;
#X obj 132 36 mtof;
#X obj 132 60 sig~;
#X obj 53 238 vcf~ 100;
#X connect 0 0 13 0;
#X connect 1 0 14 0;
#X connect 2 0 12 0;
#X connect 3 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 0 0;
#X connect 8 0 5 0;
#X connect 9 0 13 1;
#X connect 10 0 11 0;
#X connect 11 0 21 0;
#X connect 12 0 11 1;
#X connect 12 1 17 0;
#X connect 13 0 15 0;
#X connect 14 0 2 0;
#X connect 15 0 1 0;
#X connect 16 0 5 1;
#X connect 17 0 6 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 1;
#X connect 21 0 16 0;
#X restore 8 253 pd add_noise;
#X obj 8 74 unpack f f f f, f 37;
#X text 83 3 timbre \, midi \, ioi \, rms \, flatness curve;
#X obj 264 100 expr (pow(10 \, $f1/20)*0.0001) + $f2;
#N canvas 962 54 956 1000 wave_generation 0;
#X obj 156 212 outlet~;
#X obj 113 16 inlet frequency;
#X obj 23 16 inlet timbre;
#X obj 113 138 osc~;
#X obj 156 138 phasor~;
#X obj 156 188 -~ 1;
#X obj 156 162 *~ 2;
#X obj 156 42 +~;
#X obj 224 16 inlet~ signal;
#X obj 156 114 *~;
#X obj 113 115 *~;
#X obj 23 64 expr abs($f1-1);
#X obj 23 40 < 4;
#X connect 1 0 7 0;
#X connect 2 0 12 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 5 0 0 0;
#X connect 6 0 5 0;
#X connect 7 0 9 0;
#X connect 7 0 10 0;
#X connect 8 0 7 1;
#X connect 9 0 4 0;
#X connect 10 0 3 0;
#X connect 11 0 10 1;
#X connect 12 0 9 1;
#X connect 12 0 11 0;
#X restore 8 228 pd wave_generation;
#X f 24;
#N canvas 1282 54 636 1000 envelope 0;
#X obj 11 11 inlet bang;
#X obj 11 177 outlet rms;
#X obj 91 11 inlet rms;
#X obj 11 83 vline~;
#X obj 11 153 snapshot~;
#X msg 11 59 0 0 \, 99 \$1;
#X obj 21 130 bang~;
#X obj 11 107 tabread4~ \$0-envelope;
#X obj 11 35 f;
#X connect 0 0 8 0;
#X connect 2 0 8 1;
#X connect 3 0 7 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 8 0 5 0;
#X restore 197 166 pd envelope;
#X text 270 72 timbre \, midi \, ioi \, rms;
#N canvas 962 54 956 1000 modulator 0;
#X obj 98 197 osc~;
#X obj 98 226 *~;
#X obj 116 29 mtof;
#X obj 224 201 *;
#X obj 161 29 r \$0-modulating;
#X obj 242 177 *;
#X obj 98 172 expr $f1 * $f2;
#X obj 98 90 f;
#X obj 161 53 t b l;
#X obj 193 79 unpack f f;
#X obj 116 5 inlet midi;
#X obj 98 250 outlet~;
#X obj 224 5 inlet rms;
#X obj 14 251 outlet freq;
#X obj 98 115 t f f f;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 7 1;
#X connect 3 0 1 1;
#X connect 4 0 8 0;
#X connect 5 0 3 1;
#X connect 6 0 0 0;
#X connect 7 0 14 0;
#X connect 8 0 7 0;
#X connect 8 1 9 0;
#X connect 9 0 6 1;
#X connect 9 1 5 1;
#X connect 10 0 2 0;
#X connect 12 0 3 0;
#X connect 14 0 6 0;
#X connect 14 1 5 0;
#X connect 14 2 13 0;
#X restore 90 109 pd modulator;
#N canvas 962 54 956 1000 timbre 0;
#N canvas 1280 32 640 1024 (subpatch) 0;
#X array \$0-envelope 100 float 3;
#A 0 1 0.883 0.767 0.65 0.533 0.417 0.3 0.259 0.217 0.176 0.134 0.093
0.051 0.01 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 100 0 200 140 1 0 0;
#X restore 22 202 graph;
#X obj 239 171 array set \$0-envelope;
#N canvas 642 54 636 1000 clarinet 0;
#X obj 1 225 outlet;
#X obj 1 6 inlet;
#X msg 1 32 0 0.01 0.025 0.05 0.075 0.1 0.125 0.15 0.175 0.2 0.25 0.3
0.34 0.4 0.46 0.53 0.62 0.72 0.84 0.9 0.95 0.99 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 0.99 0.95 0.9 0.84 0.72 0.62 0.53 0.46 0.4 0.34
0.3 0.25 0.2 0.175 0.15 0.125 0.1 0.075 0.05 0.025 0.01 0 0, f 134
;
#X obj 64 225 s \$0-modulating;
#X obj 64 200 pack f f, f 11;
#X obj 64 150 sel 0 1;
#X obj 64 102 t b b;
#X msg 64 175 0.333;
#X msg 109 175 0.2;
#X obj 138 149 expr random (150 \, 300)*0.01;
#X obj 64 126 random 2;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 7 0;
#X connect 5 1 8 0;
#X connect 6 0 10 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 8 0 4 0;
#X connect 9 0 4 1;
#X connect 10 0 5 0;
#X restore 298 121 pd clarinet;
#X obj 298 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 383 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 11 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 67 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 123 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 239 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 1282 54 636 1000 trumpet 0;
#X obj 1 213 outlet;
#X obj 1 3 inlet;
#X msg 1 26 0 0.01 0.02 0.03 0.0625 0.125 0.1875 0.25 0.3125 0.375
0.4375 0.5 0.5625 0.625 0.6875 0.75 0.8125 0.875 0.9375 1 0.954 0.931
0.908 0.885 0.862 0.839 0.816 0.793 0.77 0.747 0.724 0.7 0.678 0.655
0.632 0.609 0.6 0.598 0.596 0.594 0.592 0.59 0.588 0.586 0.584 0.582
0.58 0.578 0.576 0.574 0.572 0.57 0.568 0.566 0.564 0.562 0.56 0.558
0.556 0.554 0.552 0.55 0.548 0.546 0.544 0.542 0.54 0.538 0.536 0.534
0.532 0.53 0.528 0.526 0.524 0.522 0.52 0.518 0.516 0.514 0.512 0.51
0.508 0.506 0.504 0.502 0.5 0.5 0.5 0.45 0.4 0.35 0.3 0.25 0.2 0.15
0.09 0.04 0 0, f 134;
#X obj 58 213 s \$0-modulating;
#X obj 58 188 pack f f, f 11;
#X obj 58 114 t b b;
#X obj 58 137 expr random(100 \, 200)*0.01;
#X obj 132 161 expr random(500 \, 700)*0.01;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 6 0 4 0;
#X connect 7 0 4 1;
#X restore 383 121 pd trumpet;
#N canvas 1282 54 636 1000 bell 0;
#X obj 1 129 outlet;
#X obj 1 3 inlet;
#X msg 1 32 1 0.911 0.83 0.756 0.689 0.628 0.572 0.521 0.475 0.433
0.394 0.359 0.327 0.298 0.272 0.248 0.226 0.206 0.187 0.171 0.156 0.142
0.129 0.118 0.107 0.098 0.089 0.081 0.074 0.067 0.061 0.056 0.051 0.046
0.042 0.039 0.035 0.032 0.029 0.027 0.024 0.022 0.02 0.018 0.017 0.015
0.014 0.013 0.011 0.01 0.01 0.009 0.008 0.007 0.007 0.006 0.005 0.005
0.005 0.004 0.004 0.003 0.003 0.003 0.003 0.002 0.002 0.002 0.002 0.002
0.001 0.001 0.001 0.001 0.001 0.001 0.001 0.001 0.001 0.001 0.001 0.001
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0, f 134;
#X obj 56 129 s \$0-modulating;
#X msg 56 102 0.714 10;
#X connect 1 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 4 0 3 0;
#X restore 11 121 pd bell;
#N canvas 1282 54 636 1000 drum 0;
#X obj 1 187 outlet;
#X obj 1 3 inlet;
#X msg 1 28 0.75 0.756 0.761 0.767 0.772 0.778 0.783 0.789 0.794 0.8
0.81 0.827 0.847 0.865 0.882 0.899 0.914 0.929 0.944 0.95 0.955 0.96
0.965 0.97 0.975 0.98 0.985 0.99 0.995 1 1 0.935 0.875 0.819 0.766
0.716 0.67 0.627 0.586 0.548 0.513 0.48 0.449 0.42 0.393 0.367 0.344
0.322 0.301 0.281 0.263 0.246 0.23 0.215 0.202 0.189 0.176 0.165 0.154
0.144 0.135 0.126 0.118 0.111 0.103 0.097 0.09 0.085 0.079 0.074 0.069
0.065 0.061 0.057 0.053 0.05 0.046 0.043 0.041 0.038 0.036 0.033 0.031
0.029 0.027 0.025 0.024 0.022 0.021 0.019 0.018 0.017 0.016 0.015 0.014
0.013 0.012 0.01 0.001 0, f 134;
#X obj 76 187 s \$0-modulating;
#X obj 76 114 t b b;
#X obj 129 137 expr random(15 \, 30)*0.1;
#X msg 76 138 0.714;
#X obj 76 162 pack f f;
#X connect 1 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 7 1;
#X connect 6 0 7 0;
#X connect 7 0 3 0;
#X restore 67 121 pd drum;
#N canvas 1282 54 636 1000 wood 0;
#X obj 1 141 outlet;
#X obj 1 3 inlet;
#X msg 1 27 1 0.883 0.767 0.65 0.533 0.417 0.3 0.259 0.217 0.176 0.134
0.093 0.051 0.01 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0, f 135;
#X obj 56 140 s \$0-modulating;
#X obj 56 68 t b b;
#X obj 56 116 pack f f;
#X obj 109 91 expr random(20 \, 30);
#X msg 56 92 1.4545;
#X connect 1 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 4 0 7 0;
#X connect 4 1 6 0;
#X connect 5 0 3 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X restore 123 121 pd wood;
#N canvas 962 54 476 1000 bird 0;
#X obj 9 163 outlet;
#X obj 9 6 inlet;
#X obj 67 163 s \$0-modulating;
#X obj 67 138 pack f f;
#X obj 67 85 t b b;
#X obj 67 112 expr random(10 \, 100) * 0.01;
#X obj 120 86 expr random(75 \, 100);
#X msg 9 30 0 0.5 0.75 0.9 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0.9 0.75 0.5
0 0 0 0 0 0 0 0 0 0 0, f 134;
#X connect 1 0 4 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 3 0;
#X connect 6 0 3 1;
#X connect 7 0 0 0;
#X restore 239 121 pd bird;
#X obj 461 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 11 7 inlet timbre;
#N canvas 1282 54 636 1000 expo 0;
#X obj 9 222 outlet;
#X obj 9 16 inlet;
#X obj 67 223 s \$0-modulating;
#X obj 67 198 pack f f;
#X obj 67 147 t b b;
#X msg 9 44 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.089 0.17 0.244 0.311
0.372 0.428 0.479 0.525 0.567 0.606 0.641 0.673 0.702 0.728 0.752 0.774
0.794 0.813 0.829 0.844 0.858 0.871 0.882 0.893 0.902 0.911 0.919 0.926
0.933 0.939 0.944 0.949 0.954 0.958 0.961 0.965 0.968 0.971 0.973 0.976
0.978 0.98 0.982 0.983 0.985 0.986 0.987 0.989 0.99 0.99 0.991 0.992
0.993 0.993 0.994 0.995 0.995 0.995 0.996 0.996 0.997 0.997 0.997 0.997
0.998 0.998 0.998 0.998 0.998 0.999 0.999 0.999 0.999 0.999 0.999 0.999
0.999 0.999 0.999 0.999 0.999 1 0, f 134;
#X obj 120 147 expr random(10 \, 100);
#X obj 67 174 expr random(5 \, 100);
#X obj 9 114 list-map;
#X obj 73 114 expr ($f1 * random(1 \, 10))/30 + 0.5;
#X connect 1 0 5 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 4 1 6 0;
#X connect 5 0 8 0;
#X connect 6 0 3 1;
#X connect 7 0 3 0;
#X connect 8 0 0 0;
#X connect 8 1 9 0;
#X connect 9 0 8 1;
#X restore 461 121 pd expo;
#X obj 179 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 1282 54 636 1000 rand 0;
#X obj 9 383 outlet;
#X obj 9 16 inlet;
#X obj 67 383 s \$0-modulating;
#X obj 67 359 pack f f;
#X obj 67 307 t b b;
#X obj 120 308 expr random(1 \, 100);
#X obj 9 95 list-map;
#X obj 76 195 *;
#X obj 62 120 t f b;
#X obj 94 170 drunk 100 5;
#X obj 9 258 list-math / 100;
#X obj 9 41 list-random 2 99;
#X obj 62 144 expr if($f1 == 0 \, 1 \, 1);
#X obj 67 332 expr random(1 \, 100) * 0.9;
#X connect 1 0 4 0;
#X connect 1 0 11 0;
#X connect 3 0 2 0;
#X connect 4 0 13 0;
#X connect 4 1 5 0;
#X connect 5 0 3 1;
#X connect 6 0 10 0;
#X connect 6 1 8 0;
#X connect 7 0 6 1;
#X connect 8 0 12 0;
#X connect 8 1 9 0;
#X connect 9 0 7 1;
#X connect 10 0 0 0;
#X connect 11 0 6 0;
#X connect 12 0 7 0;
#X connect 13 0 3 0;
#X restore 179 121 pd rand;
#X obj 519 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 11 57 sel 0 1 2 3 4 5 6 7 8, f 73;
#N canvas 962 54 956 1000 rand-lin 0;
#X obj 9 202 outlet;
#X obj 9 16 inlet;
#X obj 67 202 s \$0-modulating;
#X obj 67 178 pack f f;
#X obj 67 127 t b b;
#X obj 9 66 list-apply / 100;
#X obj 9 41 list-random 100 99;
#X obj 120 128 expr random(1 \, 100);
#X obj 67 154 expr random(1 \, 100);
#X obj 9 92 list-shellsort;
#X connect 1 0 4 0;
#X connect 1 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 8 0;
#X connect 4 1 7 0;
#X connect 5 0 9 0;
#X connect 6 0 5 0;
#X connect 7 0 3 1;
#X connect 8 0 3 0;
#X connect 9 0 0 0;
#X restore 519 121 pd rand-lin;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 9 0;
#X connect 5 0 10 0;
#X connect 6 0 11 0;
#X connect 7 0 12 0;
#X connect 8 0 13 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 16 0;
#X connect 15 0 20 0;
#X connect 16 0 1 0;
#X connect 17 0 18 0;
#X connect 18 0 1 0;
#X connect 19 0 21 0;
#X connect 20 0 5 0;
#X connect 20 1 6 0;
#X connect 20 2 7 0;
#X connect 20 3 17 0;
#X connect 20 4 8 0;
#X connect 20 5 3 0;
#X connect 20 6 4 0;
#X connect 20 7 14 0;
#X connect 20 8 19 0;
#X connect 21 0 1 0;
#X restore 8 98 pd timbre;
#X obj 645 4 inlet voice_status;
#X obj 645 29 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 645 49 switch~;
#X obj 8 29 list split 4;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 11 2;
#X connect 3 0 16 0;
#X connect 4 0 23 0;
#X connect 5 0 2 1;
#X connect 6 0 7 0;
#X connect 7 0 14 1;
#X connect 8 0 9 0;
#X connect 11 0 1 0;
#X connect 12 0 19 0;
#X connect 12 0 15 0;
#X connect 12 1 18 0;
#X connect 12 2 11 3;
#X connect 12 2 16 1;
#X connect 12 3 14 0;
#X connect 14 0 5 1;
#X connect 15 0 11 0;
#X connect 16 0 5 0;
#X connect 16 0 18 1;
#X connect 18 0 15 1;
#X connect 18 0 3 0;
#X connect 18 1 15 2;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 23 0 12 0;
#X connect 23 1 10 0;
#X coords 0 0 0.5 0.5 0 0 0;
