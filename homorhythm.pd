#N canvas 1282 54 636 1000 12;
#X obj 75 245 spigot;
#X obj 75 268 outlet;
#X obj 75 6 inlet onset;
#X obj 6 6 inlet sel;
#X obj 75 219 list store;
#X obj 251 6 inlet ioi_mean;
#X obj 408 135 f;
#X obj 191 150 pack;
#X obj 355 6 inlet legato_mean;
#N canvas 1282 54 636 1000 timbre 0;
#X obj 13 13 inlet bang;
#X obj 13 38 f 0;
#X obj 13 63 + 1;
#X obj 13 88 %;
#X obj 13 113 sel 0;
#X obj 13 164 outlet;
#X obj 13 139 random 11;
#X text 60 81 The frequency at which a new timbre is chosen varies
according to the mean duration found in the last phrase.;
#X obj 92 13 inlet rhythm;
#X obj 92 38 list length;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 8 0 9 0;
#X connect 9 0 3 1;
#X restore 145 82 pd timbre;
#X obj 6 194 == 0;
#X obj 549 6 inlet flat_curve;
#N canvas 642 54 636 1000 make_list 0;
#X obj 14 11 inlet list;
#X obj 14 59 list trim;
#X obj 14 83 outlet;
#X obj 14 35 list prepend flat;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 3 0 1 0;
#X restore 549 29 pd make_list;
#X obj 408 159 list;
#X obj 262 170 list;
#X obj 262 199 list;
#X obj 341 179 list;
#X obj 75 32 t b b b b b b, f 48;
#X obj 341 156 f;
#X obj 426 111 min 99;
#X obj 426 87 * 1.1;
#X obj 480 6 inlet amp;
#X text 153 226 This abstraction concatenates values for timbre \,
pitch \, duration \, amplitude and flatness curve into a single list.
;
#N canvas 642 54 636 1000 pitch 0;
#X obj 87 7 inlet list;
#X obj 3 161 outlet pitch;
#X msg 17 80 create;
#X msg 63 58 clear;
#X obj 17 33 t b l b;
#X obj 3 7 inlet bang;
#X obj 3 133 f;
#X obj 3 107 markov 2;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 3 0 7 0;
#X connect 4 0 2 0;
#X connect 4 1 7 1;
#X connect 4 2 3 0;
#X connect 5 0 7 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X restore 216 100 pd pitch;
#X obj 160 6 inlet melody;
#N canvas 642 54 636 1000 rhythm 0;
#X obj 87 7 inlet list;
#X obj 3 161 outlet pitch;
#X msg 87 80 create;
#X msg 133 57 clear;
#X obj 87 33 t b l b;
#X obj 3 7 inlet bang;
#X obj 3 133 f;
#X obj 3 107 markov 2, f 31;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 3 0 7 0;
#X connect 4 0 2 0;
#X connect 4 1 7 1;
#X connect 4 2 3 0;
#X connect 5 0 7 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X restore 287 59 pd rhythm;
#X connect 0 0 1 0;
#X connect 2 0 17 0;
#X connect 3 0 10 0;
#X connect 4 0 0 0;
#X connect 5 0 25 1;
#X connect 5 0 9 1;
#X connect 6 0 13 0;
#X connect 7 0 14 0;
#X connect 8 0 18 1;
#X connect 9 0 7 0;
#X connect 10 0 0 1;
#X connect 11 0 12 0;
#X connect 12 0 13 1;
#X connect 13 0 16 1;
#X connect 14 0 15 0;
#X connect 15 0 4 1;
#X connect 16 0 15 1;
#X connect 17 0 4 0;
#X connect 17 1 9 0;
#X connect 17 2 23 0;
#X connect 17 3 25 0;
#X connect 17 4 18 0;
#X connect 17 5 6 0;
#X connect 18 0 16 0;
#X connect 19 0 6 1;
#X connect 20 0 19 0;
#X connect 21 0 20 0;
#X connect 23 0 7 1;
#X connect 24 0 23 1;
#X connect 25 0 14 1;
